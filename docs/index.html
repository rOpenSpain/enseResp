<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="This package provides information in the Spanish Health Survey. It contains three
   samples: adults, households and kids. ">
<title>Information on the Spanish Health Survey â€¢ enseResp</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="deps/Roboto-0.4.5/font.css" rel="stylesheet">
<link href="deps/Roboto_Mono-0.4.5/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Information on the Spanish Health Survey">
<meta property="og:description" content="This package provides information in the Spanish Health Survey. It contains three
   samples: adults, households and kids. ">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:creator" content="@rOpenSpain">
<meta name="twitter:site" content="@rOpenSpain">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto&amp;display=swap" rel="stylesheet">
<!-- rogtemplate style sheet --><link href="BS5/rostemplate.css" rel="stylesheet">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <div>
      <img src="logo.png" alt="enseResp-logo" id="ROS-navbar-logo"><a class="navbar-brand me-2" href="index.html">enseResp</a>

      <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>
    </div>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rOpenSpain/enseResp/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="enseresp-">enseResp <a class="anchor" aria-label="anchor" href="#enseresp-"></a>
</h1>
</div>
<p><strong>Author</strong>: Edu Gonzalo Almorox</p>
<!-- badges: start -->

<p><code>enseResp</code> is a R package to tidily access healthcare data from the <a href="https://www.mscbs.gob.es/estadEstudios/estadisticas/bancoDatos.htm" class="external-link">Spanish Health Survey</a> (SHS) released by the <a href="https://www.mscbs.gob.es/home.htm" class="external-link">Spanish Health Ministry</a>. The main goal of <code>enseResp</code> is to provide data ready for analysis for researchers or other stakeholders interested in exploring health microdata in Spain. The current version of <code>enseResp</code> provides information about the SNS editions of 2017/19, 2011/12 and 2006/07 and compiles the surveys associated with the adult, children and household samples.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"edugonzaloalmorox/enseResp"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="load-main-datasets">Load main datasets<a class="anchor" aria-label="anchor" href="#load-main-datasets"></a>
</h2>
<p>This package contains surveys formatted to be convenient for being accessed and analysed. The current version of the package is composed of the following datsets:</p>
<ul>
<li>
<code>adults_19</code>: Dataset for adults survey for 2017/19</li>
<li>
<code>children_19</code>: Dataset for children survey for 2017/19</li>
<li>
<code>household_19</code>: Dataset for household survey for 2017/19</li>
<li>
<code>adults_12</code>: Dataset for adults survey for 2011/12</li>
<li>
<code>children_12</code>: Dataset for children survey for 2011/12</li>
<li>
<code>household_12</code>: Dataset for household survey for 2011/12</li>
<li>
<code>adults_06</code>: Dataset for adults survey for 2006/07</li>
<li>
<code>children_06</code>: Dataset for children survey for 2006/07</li>
<li>
<code>household_06</code>: Dataset for household survey for 2006/07</li>
</ul>
<p>This is a basic example of how to obtain a dataset. For example, the survey of adults corresponding to 2017-19 survey.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rOpenSpain/enseResp" class="external-link">enseResp</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span></span>
<span><span class="fu">enseResp</span><span class="fu">::</span><span class="va"><a href="reference/adults_19.html">adults_19</a></span></span>
<span><span class="co">#&gt; # A tibble: 23,089 Ã— 455</span></span>
<span><span class="co">#&gt;    CCAA  IDENTHOGAR A7_2a SEXOa EDADa ACTIVa PROXY_0 PROXY_1 PROXY_2 PROXY_2b</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;   </span></span>
<span><span class="co">#&gt;  1 16    00001011   01        2 084        3       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;  2 16    00001021   04        1 026        1       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;  3 16    00001041   02        2 056        5       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;  4 16    00001051   01        1 070        3       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;  5 16    00001071   01        1 061        3       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;  6 16    00001091   01        2 035        1       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;  7 16    00001101   01        2 055        1       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;  8 16    00001131   02        1 038        1       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt;  9 16    00001151   01        1 039        2       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt; 10 16    00002011   01        2 080        3       1      NA      NA &lt;NA&gt;    </span></span>
<span><span class="co">#&gt; # â€¦ with 23,079 more rows, and 445 more variables: PROXY_3b &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   PROXY_4 &lt;chr&gt;, PROXY_5 &lt;dbl&gt;, E1_1 &lt;dbl&gt;, E2_1a &lt;dbl&gt;, E2_1b &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   E2_1c &lt;dbl&gt;, E2_1d &lt;dbl&gt;, E3 &lt;chr&gt;, E4 &lt;dbl&gt;, E4b &lt;dbl&gt;, NIVEST &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   F6 &lt;dbl&gt;, F7 &lt;dbl&gt;, F8_2 &lt;chr&gt;, F9_2 &lt;chr&gt;, F10 &lt;dbl&gt;, F11 &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   F12 &lt;dbl&gt;, F13 &lt;chr&gt;, F14a &lt;dbl&gt;, F14b &lt;dbl&gt;, F15 &lt;dbl&gt;, F16 &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   F17 &lt;chr&gt;, F18a_2 &lt;chr&gt;, F18b_2 &lt;chr&gt;, F19a_2 &lt;dbl&gt;, F19b_2 &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   F20 &lt;dbl&gt;, G21 &lt;dbl&gt;, G22 &lt;dbl&gt;, G23 &lt;dbl&gt;, G24 &lt;dbl&gt;, G25a_1 &lt;dbl&gt;, â€¦</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="variables-information">Variables information<a class="anchor" aria-label="anchor" href="#variables-information"></a>
</h2>
<p><code>adults_19</code> contains 455 variables. <code>adults_19_info</code> provides information about the description of every variable (in Spanish). In addition it offers other information such as the type of variable, the positions in the text archive or the module the variable belongs to (for example, European Health Survey)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rOpenSpain/enseResp" class="external-link">enseResp</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">enseResp</span><span class="fu">::</span><span class="va"><a href="reference/adults_19_info.html">adults_19_info</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">variable_ine</span>, <span class="va">descripcion_del_campo</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="12%">
<col width="87%">
</colgroup>
<thead><tr class="header">
<th align="left">variable_ine</th>
<th align="left">descripcion_del_campo</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">CCAA</td>
<td align="left">Comunidad AutÃ³noma de residencia</td>
</tr>
<tr class="even">
<td align="left">IDENTHOGAR</td>
<td align="left">NÃºmero de identificaciÃ³n del hogar: SecciÃ³n + Vivienda + Hogar</td>
</tr>
<tr class="odd">
<td align="left">A7_2a</td>
<td align="left">NÃºmero de orden del adulto seleccionado</td>
</tr>
<tr class="even">
<td align="left">SEXOa</td>
<td align="left">IdentificaciÃ³n del adulto seleccionado: Sexo</td>
</tr>
<tr class="odd">
<td align="left">EDADa</td>
<td align="left">IdentificaciÃ³n del adulto seleccionado: Edad</td>
</tr>
<tr class="even">
<td align="left">ACTIVa</td>
<td align="left">IdentificaciÃ³n del adulto seleccionado: Actividad econÃ³mica actual</td>
</tr>
<tr class="odd">
<td align="left">PROXY_0</td>
<td align="left">Â¿El informante es la persona seleccionada?</td>
</tr>
<tr class="even">
<td align="left">PROXY_1</td>
<td align="left">Informante proxy: Â¿CuÃ¡l es el motivo por el que la persona seleccionada no facilita sus datos?</td>
</tr>
<tr class="odd">
<td align="left">PROXY_2</td>
<td align="left">Informante proxy: Â¿Es miembro del hogar el informante?</td>
</tr>
<tr class="even">
<td align="left">PROXY_2b</td>
<td align="left">Informante proxy: NÃºmero de orden del miembro del hogar</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="variables-values">Variables values<a class="anchor" aria-label="anchor" href="#variables-values"></a>
</h2>
<p><code>enseResp</code> also provides information on the values for each variable. This is given by the <code>labels</code> datasets. <code>adults_19_labels</code> renders information on the values associated with the variables that compose <code>adults_19</code>. For example, lets check the values in the level of physical activity (variable <code>T111</code>)</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rOpenSpain/enseResp" class="external-link">enseResp</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu">enseResp</span><span class="fu">::</span><span class="va"><a href="reference/adults_19_labels.html">adults_19_labels</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">variable_ine</span> <span class="op">==</span> <span class="st">"T111"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span> <span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="11%">
<col width="76%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">valores_ine</th>
<th align="left">valores</th>
<th align="left">variable_ine</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1</td>
<td align="left">Sentado/a la mayor parte de la jornada</td>
<td align="left">T111</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">De pie la mayor parte de la jornada sin efectuar grandes desplazamientos o esfuerzos</td>
<td align="left">T111</td>
</tr>
<tr class="odd">
<td align="left">3</td>
<td align="left">Caminando, llevando algÃºn peso, efectuando desplazamientos frecuentes</td>
<td align="left">T111</td>
</tr>
<tr class="even">
<td align="left">4</td>
<td align="left">Realizando tareas que requieren gran esfuerzo fÃ­sico</td>
<td align="left">T111</td>
</tr>
<tr class="odd">
<td align="left">5</td>
<td align="left">No aplicable</td>
<td align="left">T111</td>
</tr>
<tr class="even">
<td align="left">8</td>
<td align="left">No sabe</td>
<td align="left">T111</td>
</tr>
<tr class="odd">
<td align="left">9</td>
<td align="left">No contesta</td>
<td align="left">T111</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="example-analysis">Example analysis<a class="anchor" aria-label="anchor" href="#example-analysis"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rOpenSpain/enseResp" class="external-link">enseResp</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">kids</span> <span class="op">=</span> <span class="fu">enseResp</span><span class="fu">::</span><span class="va"><a href="reference/children_19.html">children_19</a></span></span>
<span><span class="va">info</span> <span class="op">=</span> <span class="fu">enseResp</span><span class="fu">::</span><span class="va"><a href="reference/children_19_info.html">children_19_info</a></span></span>
<span><span class="va">labels</span> <span class="op">=</span> <span class="fu">enseResp</span><span class="fu">::</span><span class="va"><a href="reference/children_19_labels.html">children_19_labels</a></span></span>
<span></span>
<span><span class="co"># Tidy data  --------------------------------</span></span>
<span></span>
<span><span class="va">obesity</span> <span class="op">=</span> <span class="va">kids</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span><span class="va">CCAA</span>, <span class="va">IMCm</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate_all.html" class="external-link">mutate_at</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html" class="external-link">vars</a></span><span class="op">(</span><span class="va">IMCm</span><span class="op">)</span>, <span class="va">as.factor</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>IMCm <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">IMCm</span> <span class="op">==</span> <span class="st">"1"</span><span class="op">~</span>  <span class="st">"Peso insuficiente"</span>,</span>
<span>          <span class="va">IMCm</span> <span class="op">==</span> <span class="st">'2'</span> <span class="op">~</span> <span class="st">"Normopeso"</span>, </span>
<span>          <span class="va">IMCm</span> <span class="op">==</span> <span class="st">'3'</span> <span class="op">~</span> <span class="st">"Sobrepeso"</span>, </span>
<span>          <span class="va">IMCm</span> <span class="op">==</span> <span class="st">'4'</span> <span class="op">~</span> <span class="st">"Obesidad"</span>, </span>
<span>          <span class="va">IMCm</span> <span class="op">==</span> <span class="st">'9'</span> <span class="op">~</span> <span class="st">"No consta"</span>, </span>
<span>          <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">IMCm</span><span class="op">)</span> <span class="op">~</span> <span class="st">"No disponible"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">obesity</span><span class="op">$</span><span class="va">IMCm</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">obesity</span><span class="op">$</span><span class="va">IMCm</span> , levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"No disponible"</span>, </span>
<span>                                                <span class="st">"No consta"</span>, </span>
<span>                                                <span class="st">"Peso insuficiente"</span>,</span>
<span>                                                <span class="st">"Normopeso"</span>,</span>
<span>                                                <span class="st">"Sobrepeso"</span>,</span>
<span>                                                <span class="st">"Obesidad"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">ccaa_lab</span> <span class="op">=</span> <span class="va">labels</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">variable_ine</span> <span class="op">==</span> <span class="st">"CCAA"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">valores_ine</span>, <span class="va">valores</span><span class="op">)</span></span>
<span></span>
<span><span class="va">obesity</span> <span class="op">=</span> <span class="va">obesity</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">.</span>, <span class="va">ccaa_lab</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CCAA"</span> <span class="op">=</span> <span class="st">"valores_ine"</span><span class="op">)</span><span class="op">)</span><span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span>ccaa <span class="op">=</span> <span class="va">valores</span>, <span class="va">IMCm</span>, <span class="va">n</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot ------------------------------------</span></span>
<span> <span class="va">obesity</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">ccaa</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>prop <span class="op">=</span> <span class="va">n</span><span class="op">/</span><span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2</span>, y <span class="op">=</span> <span class="va">prop</span>, fill <span class="op">=</span> <span class="va">IMCm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span>, width <span class="op">=</span> <span class="fl">1</span>, alpha <span class="op">=</span> <span class="fl">0.85</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span>facets<span class="op">=</span><span class="va">.</span> <span class="op">~</span> <span class="va">ccaa</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html" class="external-link">xlim</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">2.5</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_polar.html" class="external-link">coord_polar</a></span><span class="op">(</span>theta <span class="op">=</span> <span class="st">"y"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_void</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_brewer.html" class="external-link">scale_fill_brewer</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Dark1"</span><span class="op">)</span> <span class="op">+</span></span>
<span>   <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Obesidad infantil"</span>, </span>
<span>       subtitle <span class="op">=</span> <span class="st">"Propocion IMC"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span>    legend.title <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>    panel.background  <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    strip.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span></span>
<span>      size <span class="op">=</span> <span class="fl">4.75</span>, color <span class="op">=</span> <span class="st">"black"</span>, face <span class="op">=</span> <span class="st">"bold"</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in pal_name(palette, type): Unknown palette Dark1</span></span></code></pre></div>
<p><img src="reference/figures/README-example-1.png" width="100%"></p>
</div>
</div>
<div class="section level1">
<h1 id="issues-and-bugs">Issues and bugs<a class="anchor" aria-label="anchor" href="#issues-and-bugs"></a>
</h1>
<p>If you find issues or bugs while using <code>enseResp</code> report the bug <a href="https://github.com/rOpenSpain/enseResp/issues" class="external-link">here</a> or reach me out on <a href="https://twitter.com/EdudinGonzalo" class="external-link">Twitter</a></p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/rOpenSpain/enseResp/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/rOpenSpain/enseResp/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing enseResp</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Edu Gonzalo Almorox <br><small class="roles"> Author, maintainer, copyright holder </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/rOpenSpain/enseResp" class="external-link"><img src="https://img.shields.io/badge/devel%20version-0.1.0-blue.svg"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
</ul>
</div>

  </aside>
</div>

<script>
  var homeall = document.getElementsByTagName("h1");
  var banner = document.createElement('div');
  banner.innerHTML = '<a href="https://ropenspain.es/" id="ROS-heading-breadcrumbs">' +
        '<div class="text-center" id="ROS-partof">' +
          '<p>Part of <img src="ROS-logo.png" alt="rOpenSpain-Logo" id="homelogoxs"> rOpenSpain </p>' +
        '</div></a>'
  if (homeall.length > 0) {
	  home = homeall[0];
	  home.insertBefore(banner,home.firstChild);
  }
</script>
</div>

  <!-- ropenspain rostemplate -->
<footer id="footer"><div class="container">
    <div class="row">
      <div class="col-md">
        <h4 data-toc-skip>About <img src="logo.png" alt="enseResp Logo" height="24"> enseResp</h4>
        <p>Developed by Edu Gonzalo Almorox.</p>
        <p>Part of the <span class="ROS-light">rOpenSpain</span> project.</p>
        <hr class="d-md-none">
</div>
      <div class="col-md offset-md-4">
        <h4 data-toc-skip>About <img src="ROS-logo.png" alt="ROpenSpain Logo" height="24"><span class="ROS-light"> rOpenSpain</span>
</h4>
        <a href="https://ropenspain.es/" class="external-link"><span class="ROS-light">rOpenSpain</span></a> is a community of R enthusiasts whose ultimate goal is to create high-quality R packages for data mining public Spanish open sources.
        <hr class="d-md-none">
</div>
   </div>
  </div>
</footer><div id="copyright">
  <div class="container">
    <div class="row">
      <div class="col-md text-center text-lg-start">
        <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
      </div>
      <div class="col-md offset-md-4 text-center text-lg-start">
      <p>Template <a href="https://github.com/ropenspain/rostemplate/" class="external-link">rostemplate</a> by <a href="https://github.com/dieghernan/" class="external-link">dieghernan</a>, based on <a href="https://bootstrapious.com/" class="external-link">Bootstrapious</a>.
      </p>
      </div>
    </div>
  </div>
</div>


  

  <script>
var h1s = document.getElementsByTagName("h1");
var myH1;
if (h1s.length > 0) {
  myH1 = h1s[0];
  myH1.classList.add("ROSh1");
}
</script>
</body>
</html>
